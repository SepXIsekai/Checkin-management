<div class="flex items-center justify-between border-b border-slate-200 bg-white/80 px-8 py-4 backdrop-blur-md">
  <div class="flex flex-col items-start">
    <h1 class="text-xl font-bold"><%= @course.name %></h1>
    <p class="text-sm text-gray-400 font-medium"><%= @course.code %> • Year <%= @course.year %> • Semester <%= @course.semester %></p>
  </div>
  <%= link_to new_course_checkin_form_path(@course),
      class: "flex items-center gap-2 text-white font-semibold py-3 px-4 rounded-xl bg-[#261ce6] hover:bg-[#1a14a3] transition-all duration-200 shadow-lg shadow-blue-500/20" do %>
    <%= image_tag "backoffice/add-icon-white.svg", class: "w-5 h-5" %>
    Create Session
  <% end %>
</div>
<div class="m-10">
  <div class="bg-[#261ce6] rounded-3xl p-10 text-white shadow-xl shadow-[#261ce6]/20 relative overflow-hidden mb-8">
    <div class="relative z-10 flex justify-between items-start">
      <div>
        <span class="bg-white/20 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider inline-block mb-4">
          Active Course
        </span>
        <h1 class="text-3xl font-bold mb-1">
          Course Summary
        </h1>
        <p class="text-white/70">
          Academic information for the selected semester.
        </p>
      </div>
      <span>
        <%= image_tag "login-register-page/education-school.svg", class: "w-10 h-10 opacity-70" %>
      </span>
    </div>
    <div class="flex flex-wrap gap-3 mt-4">
      <% @course.teachers.each do |teacher| %>
        <span class="px-4 py-2 rounded-xl bg-white/20 text-white text-sm font-semibold">
          <%= teacher.name %>
        </span>
      <% end %>
    </div>
    <div class="absolute -right-16 -bottom-16 w-64 h-64 bg-white/5 rounded-full"></div>
    <div class="absolute right-20 top-10 w-32 h-32 bg-white/5 rounded-full"></div>
  </div>
  <div class="flex justify-between items-baseline mb-4">
    <div class="flex items-center gap-2">
      <div class="font-bold text-2xl text-black mb-1">
        Recent Sessions
      </div>
      <div class="text-sm text-[#261ce6] bg-[#261ce6]/10 font-semibold p-3 rounded-2xl">
        Term <%= @course.semester %>
      </div>
    </div>
    <%= link_to course_checkin_forms_path(@course),
    class: "flex items-center text-[#261ce6] font-semibold py-3 px-4 rounded-xl transition-all duration-200 hover:bg-[#261ce6]/10 #{'bg-[#261ce6]/10 border-r-4 border-[#261ce6]' if controller_name == 'checkin_forms'}" do %>
      View History
    <% end %>
  </div>
  <% if @checkin_forms.present? %>
    <% @checkin_forms.each do |form| %>
      <%= link_to course_checkin_form_path(@course, form),
      class: "block group mb-4" do %>
        <div class="flex items-center gap-6 bg-white border border-slate-200 rounded-2xl p-5 hover:shadow-md transition-all cursor-pointer">
          <div class="text-[#261ce6] flex items-center justify-center rounded-2xl bg-[#261ce6]/10 p-3">
            <%= image_tag "backoffice/calendar-check-icon.svg", class: "w-6 h-6" %>
          </div>
          <div class="flex-1">
            <div class="flex justify-between items-center mb-1">
              <p class="text-lg font-bold">
                <%= form.title %>
              </p>
              <% if form.open? %>
                <span class="bg-green-100 text-green-800 text-xs px-2 py-0.5 rounded-full font-bold uppercase">Open</span>
              <% elsif form.expired? %>
                <span class="bg-red-100 text-red-800 text-xs px-2 py-0.5 rounded-full font-bold uppercase">Timeout</span>
              <% else %>
                <span class="bg-slate-100 text-slate-800 text-xs px-2 py-0.5 rounded-full font-bold uppercase">Closed</span>
              <% end %>
            </div>
            <p class="text-gray-400 text-sm">
              <%= format_datetime(form.created_at) %>
            </p>
          </div>
          <%= image_tag "login-register-page/chevron-right-black.svg",
            class: "w-6 h-6 opacity-25 group-hover:translate-x-1 transition-transform" %>
        </div>
      <% end %>
    <% end %>
  <% else %>
    <!-- Empty State -->
    <div class="bg-white border border-slate-200 rounded-3xl p-12 text-center">
      <div class="flex justify-center mb-6">
        <div class="w-16 h-16 flex items-center justify-center rounded-2xl bg-[#261ce6]/10 text-[#261ce6]">
          <%= image_tag "backoffice/event-busy.svg", class: "w-10 h-10" %>
        </div>
      </div>
      <h3 class="text-lg font-bold text-[#111118] mb-2">
        No Sessions Yet
      </h3>
      <p class="text-sm text-gray-400 mb-6">
        There are no check-in sessions created for this course.
      </p>
      <%= link_to "Create Session",
        new_course_checkin_form_path(@course),
        class: "inline-flex items-center gap-2 px-6 py-3 bg-[#261ce6] hover:bg-[#1a14a3] text-white text-sm font-semibold rounded-xl transition-all shadow-lg shadow-[#261ce6]/20" %>
    </div>
  <% end %>
</div>