<div class="flex items-center justify-between border-b border-slate-200 bg-white/80 px-8 py-4 backdrop-blur-md">
  <div class="flex flex-col items-start">
    <h1 class="text-xl font-bold">Check-in Session</h1>
    <p class="text-sm text-gray-400 font-medium"><%= @course.name %> • <%= @course.code %> • Year <%= @course.year %> • Semester <%= @course.semester %></p>
  </div>
  <%= link_to new_course_checkin_form_path(@course),
      class: "flex items-center gap-2 text-white font-semibold py-3 px-4 rounded-xl bg-[#261ce6] hover:bg-[#1a14a3] transition-all duration-200 shadow-lg shadow-blue-500/20" do %>
    <%= image_tag "backoffice/add-icon-white.svg", class: "w-5 h-5" %>
    Create Session
  <% end %>
</div>
<div class="m-10">
  <% if @checkin_forms.present? %>
    <% @checkin_forms.each do |form| %>
      <%= link_to course_checkin_form_path(@course, form),
      class: "block group mb-4" do %>
        <div class="flex items-center gap-6 bg-white border border-slate-200 rounded-2xl p-8 hover:shadow-md transition-all cursor-pointer">
          <div class="text-[#261ce6] flex items-center justify-center rounded-2xl bg-[#261ce6]/10 p-3">
            <%= image_tag "backoffice/calendar-check-icon.svg", class: "w-6 h-6" %>
          </div>
          <div class="flex-1">
            <div class="flex justify-between items-center mb-1">
              <p class="text-lg font-bold">
                <%= form.title %>
              </p>
              <div class="flex items-center gap-2">
                <% count = form.attendances.count %>
                <span class="text-xs font-semibold text-[#6B7280]">
                  <%= attendance_count_label(form.attendances.count) %>
                </span>
                <% if form.open? %>
                  <span class="bg-green-100 text-green-800 text-xs px-2 py-0.5 rounded-full font-bold uppercase">Open</span>
                <% else %>
                  <span class="bg-slate-100 text-slate-800 text-xs px-2 py-0.5 rounded-full font-bold uppercase">Closed</span>
                <% end %>
              </div>
            </div>
          </div>
          <%= image_tag "login-register-page/chevron-right-black.svg",
            class: "w-6 h-6 opacity-25 group-hover:translate-x-1 transition-transform" %>
        </div>
      <% end %>
    <% end %>
  <% else %>
    <div class="bg-white border border-slate-200 rounded-3xl p-12 text-center">
      <div class="flex justify-center mb-6">
        <div class="w-16 h-16 flex items-center justify-center rounded-2xl bg-[#261ce6]/10 text-[#261ce6]">
          <%= image_tag "backoffice/event-busy.svg", class: "w-10 h-10" %>
        </div>
      </div>
      <h3 class="text-lg font-bold text-[#111118] mb-2">
        No Sessions Yet
      </h3>
      <p class="text-sm text-gray-400 mb-6">
        There are no check-in sessions created for this course.
      </p>
    </div>
  <% end %>
</div>
